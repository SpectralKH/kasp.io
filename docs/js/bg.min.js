function init(){container=document.createElement("div"),container.classList.add("canvas-container"),container.classList.add("hidden"),setTimeout(function(){container.classList.remove("hidden")},1e3),document.body.appendChild(container),camera=new THREE.PerspectiveCamera(75,window.innerWidth/canvasHeight,1,1e4),camera.position.z=1e4,scene=new THREE.Scene,particles=new Array;for(var e=2*Math.PI,n=new THREE.SpriteCanvasMaterial({color:particleColor,program:function(n){n.beginPath(),n.arc(0,0,.5,0,e,!0),n.fill()}}),i=0,a=0;a<AMOUNTX;a++)for(var r=0;r<AMOUNTY;r++)particle=particles[i++]=new THREE.Sprite(n),particle.position.x=a*SEPARATION-AMOUNTX*SEPARATION/2,particle.position.z=r*SEPARATION-AMOUNTY*SEPARATION/2,scene.add(particle);renderer=new THREE.CanvasRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,canvasHeight),container.appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=canvasHeight/2,camera.aspect=window.innerWidth/canvasHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,canvasHeight)}function animate(){requestAnimationFrame(animate),render()}function render(){camera.position.set(0,355,122);for(var e=0,n=0;n<AMOUNTX;n++)for(var i=0;i<AMOUNTY;i++)particle=particles[e++],particle.position.y=50*Math.sin(.3*(n+count))+50*Math.sin(.5*(i+count)),particle.scale.x=particle.scale.y=4*(Math.sin(.3*(n+count))+1)+4*(Math.sin(.5*(i+count))+1);renderer.render(scene,camera),count+=.1}var canvasHeight=400,SEPARATION=100,AMOUNTX=80,AMOUNTY=40,particleColor="#3f3f3f",container,camera,scene,renderer,particles,particle,count=0,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=canvasHeight/2;init(),animate();