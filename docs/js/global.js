"use strict";function xhr(t,s){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];return new Promise(function(n,o){"function"==typeof r&&(i=r),"function"==typeof r&&(r={}),null==r.type&&(r.type="POST"),null==r.contentType&&(r.contentType="json");var e=new XMLHttpRequest;e.open(r.type,s,!0),"GET"==r.type?e.send():"form"==r.contentType?(e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("data="+JSON.stringify(t))):"json"==r.contentType?(e.setRequestHeader("Content-type","application/json"),e.send(JSON.stringify(t))):"none"==r.contentType?e.send(t):r.contentType&&(e.setRequestHeader("Content-type",r.contentType),e.send(t)),e.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText),t=null;String(this.status).startsWith("2")||(console.error("HTTP error "+this.status),t=this.status),t?o(t):n(e),i&&i(e,t)}}})}window.xhr=xhr;var YTapiKey="AIzaSyBnQnpboWUfWyR8aW6HuQV5MAlxZ5FQ090";!function(){var e="https://www.googleapis.com/youtube/v3/playlistItems?key="+YTapiKey+"&part=snippet&maxResults=6&playlistId=",t=e+"PL84-DNDSU8p5WP6jA7hvOCV9dIKBNjdCS",n=xhr(null,e+"UUy6jcAF6fZGttRvihyQixbA",{type:"GET"}),o=xhr(null,t,{type:"GET"});Promise.all([n,o]).then(function(e){console.log("==--==--==--\x3e YouTube Personal + Commissions"),console.log(e);var t=e[0].items.concat(e[1].items);t.sort(function(e,t){var n=new Date(e.snippet.publishedAt);return new Date(t.snippet.publishedAt)-n}),t=t.splice(0,6);for(var n=0;n<t.length;n++){var o=t[n].snippet.resourceId.videoId,s=t[n].snippet.thumbnails.high.url,r=(t[n].snippet.title,document.querySelector("section.video .thumbnails a.item:nth-child("+(n+1)+")"));r.setAttribute("href","https://www.youtube.com/watch?v="+o),r.querySelector("img").setAttribute("src",s)}document.querySelector("section.video").classList.remove("hidden")},function(e){throw Error("Could not fetch YouTube playlistItems")})}(),xhr(null,"https://www.googleapis.com/youtube/v3/playlistItems?key="+YTapiKey+"&part=snippet&maxResults=6&playlistId=UUoMimPRPeR28TM3_0cinjVQ",{type:"GET"}).then(function(e){console.log("==--==--==--\x3eYouTube Synctan"),console.log(e);for(var t=e.items,n=0;n<t.length;n++){var o=t[n].snippet.resourceId.videoId,s=t[n].snippet.thumbnails.high.url,r=(t[n].snippet.title,document.querySelector("section.synctan .thumbnails .item:nth-child("+(n+1)+")"));r.setAttribute("href","https://www.youtube.com/watch?v="+o),r.querySelector("img").setAttribute("src",s)}document.querySelector("section.synctan").classList.remove("hidden")},function(e){throw Error("Could not fetch YouTube playlistItems")}),xhr(null,"https://api.soundcloud.com/users/247370320/tracks?limit=8&client_id=6ibYZTmF5qnpvp88S9V3werVrC18WCdC",{type:"GET"}).then(function(e){console.log("==--==--==--\x3e SoundCloud Lacuna"),console.log(e);for(var t=0;t<6;t++){var n=e[t].permalink_url,o=e[t].artwork_url.replace("large","t300x300"),s=document.querySelector("section.lacuna .thumbnails .item:nth-child("+(t+1)+")");s.setAttribute("href",n),s.querySelector("img").setAttribute("src",o)}document.querySelector("section.lacuna").classList.remove("hidden")},function(e){throw Error("Could not fetch SoundCloud tracks")}),fetch("https://api.github.com/graphql",{body:JSON.stringify({query:'\n          query {\n              user(login:"SpectralKH") {\n              pinnedRepositories(first:6) {\n                  edges {\n                  node {\n                      description\n                      homepageUrl\n                      url\n                      name\n                  }\n                  }\n              }\n              }\n          }\n      '}),headers:{Authorization:"bearer 54269bc991628928680662193cad6c4203672f66","Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(e){e.json().then(function(e){console.log("==--==--==--\x3e GitHub"),console.log(e.data);for(var t=e.data.user.pinnedRepositories.edges,n=0;n<6;n++){var o=t[n].node,s=o.description,r=o.homepageUrl,i=o.name,c=o.url,l=document.querySelector("section.github .cards .item:nth-child("+(n+1)+")");l.querySelector("p.title").innerHTML=i,l.querySelector("p.description").innerHTML=s,c&&(l.querySelector("a.repo-url").setAttribute("href",c),l.querySelector("a.repo-url").classList.remove("hidden")),r&&(l.querySelector("a.repo-website").setAttribute("href",r),l.querySelector("a.repo-website").classList.remove("hidden"))}document.querySelector("section.github").classList.remove("hidden")})}),document.addEventListener("click",function(e){function t(){for(var e=document.querySelectorAll("a.has-popup input"),t=0;t<e.length;t++)e[t].classList.add("hidden")}var n=e.target.classList.contains("has-popup"),o=e.target.classList.contains("popup");if(n||o){var s=e.target.querySelector("input");e.target.classList.contains("popup")&&(s=e.target);var r=e.target.classList.contains("popup");s.classList.contains("hidden")?(t(),s.select(),s.classList.remove("hidden")):r||s.classList.add("hidden")}else t()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2dsb2JhbC5qcyJdLCJuYW1lcyI6WyJ4aHIiLCJyZXFDb250ZW50IiwidXJsIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNhbGxiYWNrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJvcGVuIiwiWE1MSHR0cFJlcXVlc3QiLCJKU09OIiwic3RyaW5naWZ5Iiwic2VuZCIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJ0aGlzIiwicmVzcG9uc2VUZXh0IiwiU3RyaW5nIiwic3RhdHVzIiwic3RhcnRzV2l0aCIsImVyciIsInJlYWR5U3RhdGUiLCJyZXMiLCJjb25zb2xlIiwiZXJyb3IiLCJ3aW5kb3ciLCJZVGFwaUtleSIsIlZpZGVvIiwiY29tbWlzc2lvbnNVUkwiLCJwZXJzb25hbCIsImNvbW1pc3Npb25zIiwiYWxsIiwidGhlbiIsInJlc3VsdHMiLCJsb2ciLCJpdGVtcyIsImNvbmNhdCIsInNvcnQiLCJhIiwiYiIsImRhdGVBIiwiRGF0ZSIsInNuaXBwZXQiLCJwdWJsaXNoZWRBdCIsInNwbGljZSIsImkiLCJyZXNvdXJjZUlkIiwidmlkZW9JZCIsImltZyIsInRodW1ibmFpbHMiLCJoaWdoIiwiaXRlbSIsInRpdGxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiRXJyb3IiLCJ0cmFja3MiLCJwZXJtYWxpbmtfdXJsIiwiYXJ0d29ya191cmwiLCJyZXBsYWNlIiwiZmV0Y2giLCJib2R5IiwibWV0aG9kIiwiaGVhZGVycyIsInJlcG9VcmwiLCJyZXBvV2Vic2l0ZSIsInJlc3VsdCIsImRhdGEiLCJ1c2VyIiwicGlubmVkUmVwb3NpdG9yaWVzIiwiZWRnZXMiLCJyZXBvIiwicmVwb3MiLCJub2RlIiwiZGVzY3JpcHRpb24iLCJob21lcGFnZVVybCIsIm5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZCIsImlubmVySFRNTCIsImhhc0NsYXNzSGFzUG9wdXAiLCJ0YXJnZXQiLCJoYXNDbGFzc1BvcHVwIiwiY29udGFpbnMiLCJpbnB1dCIsImNsaWNrZWRJbnB1dCIsImhpZGVBbGxJbnB1dHMiLCJlIiwic2VsZWN0Il0sIm1hcHBpbmdzIjoiYUFBQSxTQUFTQSxJQUFLQyxFQUFZQyxHQUE2QixJQUF4QkMsRUFBd0IsRUFBQUMsVUFBQUMsYUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQWQsR0FBSUcsRUFBVUgsVUFBQSxHQUNyRCxPQUFPLElBQUlJLFFBQVEsU0FBQ0MsRUFBU0MsR0FETFIsbUJBQVpELElBQXlDTSxFQUFBSixHQUFBLG1CQUFBQSxJQUFBQSxFQUFBLElBQUFHLE1BQVZDLEVBQVVJLE9BQUFSLEVBQUFRLEtBQUEsUUFLeEJMLE1BQXZCSCxFQUFRUyxjQUEwQlQsRUFBUVMsWUFBYyxRQUo5RCxJQUFBWixFQUFXUSxJQUFBQSxlQUNUUixFQUFJYSxLQUFBVixFQUFPQSxLQUFZRCxHQUFBLEdBQ25CLE9BQUFDLEVBQU9BLEtBQ1hILEVBQUlHLE9BQ3VCRyxRQUF2QkgsRUFBUVMsYUFDWlosRUFBSUEsaUJBQVVjLGVBQWQscUNBQ0FkLEVBQUlhLEtBQUtWLFFBQVRZLEtBQUFDLFVBQUFmLEtBQzJCLFFBQXZCRSxFQUFBUyxhQUNGWixFQUFJaUIsaUJBQUosZUFBQSxvQkFERmpCLEVBQUFpQixLQUVXZCxLQUFBQSxVQUFRUyxLQUNJLFFBQWpCTSxFQUFBQSxZQUNKbEIsRUFBSWlCLEtBQUtoQixHQUVMaUIsRUFBQUEsY0FDSmxCLEVBQUlpQixpQkFBVUQsZUFBZGIsRUFBQVMsYUFGS1osRUFBQWlCLEtBR0lkLElBRVRILEVBQUFtQixtQkFBQSxXQUZLLEdBR1lQLEdBSFpRLEtBR0lqQixXQUFRUyxDQUNqQlosSUFBSWtCLEVBQUFBLEtBQUFBLE1BQWlCRSxLQUFBQyxjQUNqQkosRUFBS2hCLEtBQ1Zx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QUFtQk8sRUFBRU4sT0FBTzlCLFVBQVVnQyxTQUFTLGFBQy9DRCxFQUFnQkssRUFBRU4sT0FBTzlCLFVBQVVnQyxTQUFTLFNBQ2hELEdBQUlILEdBQW9CRSxFQUFlLENBQ3JDLElBQUlFLEVBQVFHLEVBQUVOLE9BQU9oQyxjQUFjLFNBQy9Cc0MsRUFBRU4sT0FBTzlCLFVBQVVnQyxTQUFTLFdBQVVDLEVBQVFHLEVBQUVOLFFBQ3BELElBQUlJLEVBQWVFLEVBQUVOLE9BQU85QixVQUFVZ0MsU0FBUyxTQUMzQkMsRUFBTWpDLFVBQVVnQyxTQUFTLFdBRTNDRyxJQUNBRixFQUFNSSxTQUNOSixFQUFNakMsVUFBVUMsT0FBTyxXQUNiaUMsR0FDVkQsRUFBTWpDLFVBQVUyQixJQUFJLGVBSXRCUSIsImZpbGUiOiJqcy9nbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB4aHIgKHJlcUNvbnRlbnQsIHVybCwgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2sgPSBvcHRpb25zXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSBvcHRpb25zID0ge31cbiAgICBpZiAob3B0aW9ucy50eXBlID09IHVuZGVmaW5lZCkgb3B0aW9ucy50eXBlID0gJ1BPU1QnXG4gICAgaWYgKG9wdGlvbnMuY29udGVudFR5cGUgPT0gdW5kZWZpbmVkKSBvcHRpb25zLmNvbnRlbnRUeXBlID0gJ2pzb24nXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgeGhyLm9wZW4ob3B0aW9ucy50eXBlLCB1cmwsIHRydWUpXG4gICAgaWYgKG9wdGlvbnMudHlwZSA9PSAnR0VUJykge1xuICAgICAgeGhyLnNlbmQoKVxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb250ZW50VHlwZSA9PSAnZm9ybScpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJylcbiAgICAgIHhoci5zZW5kKCdkYXRhPScgKyBKU09OLnN0cmluZ2lmeShyZXFDb250ZW50KSlcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY29udGVudFR5cGUgPT0gJ2pzb24nKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxQ29udGVudCkpXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmNvbnRlbnRUeXBlID09ICdub25lJykge1xuICAgICAgeGhyLnNlbmQocmVxQ29udGVudClcbiAgICAgIC8vIGZvciBmaWxlIHVwbG9hZHMgKG11bHRpcGFydC9mb3JtLWRhdGEpXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmNvbnRlbnRUeXBlKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgb3B0aW9ucy5jb250ZW50VHlwZSlcbiAgICAgIHhoci5zZW5kKHJlcUNvbnRlbnQpXG4gICAgfVxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHtcbiAgICAgICAgbGV0IHJlcyA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpXG4gICAgICAgIGxldCBlcnIgPSBudWxsXG4gICAgICAgIGlmICghU3RyaW5nKHRoaXMuc3RhdHVzKS5zdGFydHNXaXRoKCcyJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdIVFRQIGVycm9yICcgKyB0aGlzLnN0YXR1cylcbiAgICAgICAgICBlcnIgPSB0aGlzLnN0YXR1c1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgIGVsc2UgcmVzb2x2ZShyZXMpXG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2socmVzLCBlcnIpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJlc29sdmUoNSk7XG4gIH0pXG59XG53aW5kb3cueGhyID0geGhyXG5cbnZhciBZVGFwaUtleSA9ICdBSXphU3lCblFucGJvV1VmV3lSOGFXNkh1UVY1TUFseFo1RlEwOTAnO1xuXG4oZnVuY3Rpb24gVmlkZW8gKCkge1xuICB2YXIgbWF4UmVzdWx0cyA9IDZcblxuICB2YXIgdXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvcGxheWxpc3RJdGVtcycgK1xuICAgICc/a2V5PScgKyBZVGFwaUtleSArXG4gICAgJyZwYXJ0PXNuaXBwZXQnICtcbiAgICAnJm1heFJlc3VsdHM9JyArIG1heFJlc3VsdHMgK1xuICAgICcmcGxheWxpc3RJZD0nXG4gIHZhciBwZXJzb25hbFVSTCA9IHVybCArICdVVXk2amNBRjZmWkd0dFJ2aWh5UWl4YkEnXG4gIHZhciBjb21taXNzaW9uc1VSTCA9IHVybCArICdQTDg0LURORFNVOHA1V1A2akE3aHZPQ1Y5ZElLQk5qZENTJ1xuICB2YXIgcGVyc29uYWwgPSB4aHIobnVsbCwgcGVyc29uYWxVUkwsIHsgdHlwZTogJ0dFVCcgfSlcbiAgdmFyIGNvbW1pc3Npb25zID0geGhyKG51bGwsIGNvbW1pc3Npb25zVVJMLCB7IHR5cGU6ICdHRVQnIH0pXG4gIFByb21pc2UuYWxsKFtwZXJzb25hbCwgY29tbWlzc2lvbnNdKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgY29uc29sZS5sb2coJz09LS09PS0tPT0tLT4gWW91VHViZSBQZXJzb25hbCArIENvbW1pc3Npb25zJylcbiAgICBjb25zb2xlLmxvZyhyZXN1bHRzKVxuICAgIC8vIGNvbWJpbmUgdmlkZW8gYW5kIGNvbW1pc3Npb24gcmVzcG9uc2VzXG4gICAgdmFyIGl0ZW1zID0gcmVzdWx0c1swXS5pdGVtcy5jb25jYXQocmVzdWx0c1sxXS5pdGVtcylcbiAgICBpdGVtcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICB2YXIgZGF0ZUEgPSBuZXcgRGF0ZShhLnNuaXBwZXQucHVibGlzaGVkQXQpXG4gICAgICB2YXIgZGF0ZUIgPSBuZXcgRGF0ZShiLnNuaXBwZXQucHVibGlzaGVkQXQpXG4gICAgICByZXR1cm4gZGF0ZUIgLSBkYXRlQSAvLyBzb3J0IGJ5IGRhdGUgYXNjZW5kaW5nXG4gICAgfSlcbiAgICBpdGVtcyA9IGl0ZW1zLnNwbGljZSgwLCBtYXhSZXN1bHRzKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB1cmwgPSBpdGVtc1tpXS5zbmlwcGV0LnJlc291cmNlSWQudmlkZW9JZFxuICAgICAgdmFyIGltZyA9IGl0ZW1zW2ldLnNuaXBwZXQudGh1bWJuYWlscy5oaWdoLnVybFxuICAgICAgdmFyIHRpdGxlID0gaXRlbXNbaV0uc25pcHBldC50aXRsZVxuICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnZpZGVvIC50aHVtYm5haWxzIGEuaXRlbTpudGgtY2hpbGQoJyArIChpICsgMSkgKyAnKScpXG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsICdodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PScgKyB1cmwpXG4gICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1nKVxuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnZpZGVvJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgfSwgKGVycikgPT4ge1xuICAgIHRocm93IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggWW91VHViZSBwbGF5bGlzdEl0ZW1zJylcbiAgICBjb25zb2xlLmxvZyhlcnIpXG4gIH0pXG59KSgpO1xuXG4oZnVuY3Rpb24gU3luY3RhbiAoKSB7XG4gIHZhciBtYXhSZXN1bHRzID0gNlxuXG4gIHZhciB1cmwgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92My9wbGF5bGlzdEl0ZW1zJyArXG4gICAgJz9rZXk9JyArIFlUYXBpS2V5ICtcbiAgICAnJnBhcnQ9c25pcHBldCcgK1xuICAgICcmbWF4UmVzdWx0cz0nICsgbWF4UmVzdWx0cyArXG4gICAgJyZwbGF5bGlzdElkPVVVb01pbVBSUGVSMjhUTTNfMGNpbmpWUSdcbiAgeGhyKG51bGwsIHVybCwgeyB0eXBlOiAnR0VUJyB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBjb25zb2xlLmxvZygnPT0tLT09LS09PS0tPllvdVR1YmUgU3luY3RhbicpXG4gICAgY29uc29sZS5sb2cocmVzdWx0KVxuICAgIHZhciBpdGVtcyA9IHJlc3VsdC5pdGVtc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB1cmwgPSBpdGVtc1tpXS5zbmlwcGV0LnJlc291cmNlSWQudmlkZW9JZFxuICAgICAgdmFyIGltZyA9IGl0ZW1zW2ldLnNuaXBwZXQudGh1bWJuYWlscy5oaWdoLnVybFxuICAgICAgdmFyIHRpdGxlID0gaXRlbXNbaV0uc25pcHBldC50aXRsZVxuICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnN5bmN0YW4gLnRodW1ibmFpbHMgLml0ZW06bnRoLWNoaWxkKCcgKyAoaSArIDEpICsgJyknKVxuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICsgdXJsKVxuICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGltZylcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zeW5jdGFuJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgfSwgKGVycikgPT4ge1xuICAgIHRocm93IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggWW91VHViZSBwbGF5bGlzdEl0ZW1zJylcbiAgICBjb25zb2xlLmxvZyhlcnIpXG4gIH0pXG59KSgpO1xuXG4oZnVuY3Rpb24gTGFjdW5hICgpIHtcbiAgdmFyIG1heFJlc3VsdHMgPSA4XG5cbiAgLy8gTGFjdW5hXG4gIHZhciBjbGllbnRJRCA9ICc2aWJZWlRtRjVxbnB2cDg4UzlWM3dlclZyQzE4V0NkQydcbiAgdmFyIHVybCA9ICdodHRwczovL2FwaS5zb3VuZGNsb3VkLmNvbS91c2Vycy8yNDczNzAzMjAvdHJhY2tzJyArXG4gICAgJz9saW1pdD0nICsgbWF4UmVzdWx0cyArXG4gICAgJyZjbGllbnRfaWQ9JyArIGNsaWVudElEXG4gIHhocihudWxsLCB1cmwsIHsgdHlwZTogJ0dFVCcgfSkudGhlbigodHJhY2tzKSA9PiB7XG4gICAgY29uc29sZS5sb2coJz09LS09PS0tPT0tLT4gU291bmRDbG91ZCBMYWN1bmEnKVxuICAgIGNvbnNvbGUubG9nKHRyYWNrcylcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgdmFyIHVybCA9IHRyYWNrc1tpXS5wZXJtYWxpbmtfdXJsXG4gICAgICB2YXIgaW1nID0gdHJhY2tzW2ldLmFydHdvcmtfdXJsLnJlcGxhY2UoJ2xhcmdlJywgJ3QzMDB4MzAwJylcbiAgICAgIHZhciBpdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5sYWN1bmEgLnRodW1ibmFpbHMgLml0ZW06bnRoLWNoaWxkKCcgKyAoaSArIDEpICsgJyknKVxuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpXG4gICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1nKVxuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmxhY3VuYScpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gIH0sIChlcnIpID0+IHtcbiAgICB0aHJvdyBFcnJvcignQ291bGQgbm90IGZldGNoIFNvdW5kQ2xvdWQgdHJhY2tzJylcbiAgICBjb25zb2xlLmxvZyhlcnIpXG4gIH0pXG59KSgpO1xuXG4oZnVuY3Rpb24gR2l0SHViICgpIHtcbiAgLy8gR2l0SHViIEFQSVxuICBmZXRjaCgnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9ncmFwaHFsJywge1xuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHF1ZXJ5OiBgXG4gICAgICAgICAgcXVlcnkge1xuICAgICAgICAgICAgICB1c2VyKGxvZ2luOlwiU3BlY3RyYWxLSFwiKSB7XG4gICAgICAgICAgICAgIHBpbm5lZFJlcG9zaXRvcmllcyhmaXJzdDo2KSB7XG4gICAgICAgICAgICAgICAgICBlZGdlcyB7XG4gICAgICAgICAgICAgICAgICBub2RlIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgIGhvbWVwYWdlVXJsXG4gICAgICAgICAgICAgICAgICAgICAgdXJsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICBgXG4gICAgfSksXG4gICAgaGVhZGVyczoge1xuICAgICAgQXV0aG9yaXphdGlvbjogJ2JlYXJlciA1NDI2OWJjOTkxNjI4OTI4NjgwNicgKyAnNjIxOTNjYWQ2YzQyMDM2NzJmNjYnLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgfSxcbiAgICBtZXRob2Q6ICdQT1NUJ1xuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCc9PS0tPT0tLT09LS0+IEdpdEh1YicpXG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSlcbiAgICAgIGNvbnN0IHJlcG9zID0gcmVzdWx0LmRhdGEudXNlci5waW5uZWRSZXBvc2l0b3JpZXMuZWRnZXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJlcG8gPSByZXBvc1tpXS5ub2RlXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcmVwby5kZXNjcmlwdGlvblxuICAgICAgICBjb25zdCByZXBvV2Vic2l0ZSA9IHJlcG8uaG9tZXBhZ2VVcmxcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcG8ubmFtZVxuICAgICAgICBjb25zdCByZXBvVXJsID0gcmVwby51cmxcbiAgICAgICAgLy8gY29uc3QgaW1nID0gdHJhY2tzW2ldLmFydHdvcmtfdXJsLnJlcGxhY2UoJ2xhcmdlJywgJ3QzMDB4MzAwJylcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uZ2l0aHViIC5jYXJkcyAuaXRlbTpudGgtY2hpbGQoJyArIChpICsgMSkgKyAnKScpXG4gICAgICAgIC8vIGl0ZW0uc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKVxuICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ3AudGl0bGUnKS5pbm5lckhUTUwgPSBuYW1lXG4gICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcigncC5kZXNjcmlwdGlvbicpLmlubmVySFRNTCA9IGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChyZXBvVXJsKSB7XG4gICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCdhLnJlcG8tdXJsJykuc2V0QXR0cmlidXRlKCdocmVmJywgcmVwb1VybClcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EucmVwby11cmwnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvV2Vic2l0ZSkge1xuICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignYS5yZXBvLXdlYnNpdGUnKS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCByZXBvV2Vic2l0ZSlcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EucmVwby13ZWJzaXRlJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5naXRodWInKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIH0pXG4gIH0pXG59KSgpXG5cbi8vIGRpc2NvcmQvZW1haWwgcG9wdXBzXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGZ1bmN0aW9uIGhpZGVBbGxJbnB1dHMgKCkge1xuICAgIHZhciBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhLmhhcy1wb3B1cCBpbnB1dCcpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlucHV0c1tpXS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH1cbiAgfVxuICB2YXIgaGFzQ2xhc3NIYXNQb3B1cCA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGFzLXBvcHVwJylcbiAgdmFyIGhhc0NsYXNzUG9wdXAgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwJylcbiAgaWYgKGhhc0NsYXNzSGFzUG9wdXAgfHwgaGFzQ2xhc3NQb3B1cCkge1xuICAgIHZhciBpbnB1dCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSBpbnB1dCA9IGUudGFyZ2V0XG4gICAgdmFyIGNsaWNrZWRJbnB1dCA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXAnKVxuICAgIHZhciBpbnB1dElzSGlkZGVuID0gaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKVxuICAgIGlmIChpbnB1dElzSGlkZGVuKSB7XG4gICAgICBoaWRlQWxsSW5wdXRzKClcbiAgICAgIGlucHV0LnNlbGVjdCgpXG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIH0gZWxzZSBpZiAoIWNsaWNrZWRJbnB1dCkge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gY2xpY2tlZCBhbnl3aGVyZVxuICAgIGhpZGVBbGxJbnB1dHMoKVxuICB9XG59KVxuIl19
